<header class="navbar">
  <div class="logo"><strong>API de Citas Médicas</strong></div>
  <nav class="nav-links">
    <a routerLink="/medico/dashboard" routerLinkActive="active">Inicio</a>
  </nav>

  <div class="user-info" *ngIf="medico">
    <div class="user-avatar">{{ medico.nombre.charAt(0) }}</div>
    <div class="user-details">
      <span class="user-name">{{ medico.nombre }}</span>
    </div>
    <a href="#" class="logout" (click)="logout()">Salir</a>
  </div>
</header>

<main class="main-content">
  <h2>Agenda y Citas</h2>

  <div class="dashboard">
    <!-- CALENDARIO -->
    <section class="calendar-section">
      <div class="calendar-header">
        <h3>{{ mesActual }}</h3>
        <a href="#" class="today-link" (click)="goToToday($event)">Hoy</a>
      </div>

      <div class="calendar">
        <table>
          <thead>
            <tr>
              <th>D</th>
              <th>L</th>
              <th>M</th>
              <th>M</th>
              <th>J</th>
              <th>V</th>
              <th>S</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let semana of calendario">
              <td
                *ngFor="let dia of semana"
                [class.selected]="dia === diaSeleccionado"
                [style.background-color]="dia ? calendarioColor[dia] : 'transparent'"
                (click)="dia && seleccionarDia(dia)"
              >
                {{ dia || '' }}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- CITAS DEL DÍA -->
    <section class="appointments">
      <div class="appointments-header">
        <h3>Citas AGENDADAS para el {{ diaSeleccionado }} de {{ mesActual }}</h3>
      </div>

      <div *ngFor="let detalle of citasDiaSeleccionado" class="appointment-card">
        <strong>ID Cita: {{ detalle.cita.id }}</strong>
        <span>Hora: {{ detalle.agenda.horaInicio }} - {{ detalle.agenda.horaFin }}</span>
        <p>Observaciones: {{ detalle.cita.observaciones || 'Ninguna' }}</p>
      </div>
    </section>
  </div>
</main>
